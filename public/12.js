(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{120:function(e,a,t){"use strict";t.r(a);var i=t(84),r=t(13);function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var s={inject:["validator"],name:"MuhaffizhForm",created:function(){this.getUnit(),this.$validator=this.validator},computed:l(l({},Object(r.e)(["errors"])),Object(r.e)("muhaffizh",{muhaffizh:function(e){return e.muhaffizh},muhaffizh_unit:function(e){return e.muhaffizh_unit}})),watch:{return:function(){this.getUnit()}},methods:l(l(l({},Object(r.d)("muhaffizh",["CLEAR_FORM"])),Object(r.b)("muhaffizh",["getUnit"])),{},{validateState:function(e){return this.veeFields[e]&&(this.veeFields[e].dirty||this.veeFields[e].validated)?!this.veeErrors.has(e):null}}),destroyed:function(){this.CLEAR_FORM()},data:function(){return{selected_pendidikan:null,options_pendidikan:[{value:"D3",text:"D3"},{value:"S1",text:"S1"},{value:"S2",text:"S2"},{value:"S3",text:"S3"}],selected_status:null,options_status:[{value:"Aktif",text:"Aktif"},{value:"Tidak Aktif",text:"Tidak Aktif"}]}}},u=t(9),f=Object(u.a)(s,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[t("b-form-group",{attrs:{label:"Unit","label-cols":"3","label-for":"unit"}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"unit",options:e.muhaffizh_unit,placeholder:"Pilih Unit",name:"unit",state:e.validateState("unit"),"data-vv-as":"Unit"},model:{value:e.muhaffizh.unit_id,callback:function(a){e.$set(e.muhaffizh,"unit_id",a)},expression:"muhaffizh.unit_id"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("unit")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Nomor Induk","label-cols":"3","label-for":"nomorinduk"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"nomorinduk",placeholder:"Masukan Nomor Induk",name:"nomorinduk",state:e.validateState("nomorinduk"),"data-vv-as":"NomorInduk"},model:{value:e.muhaffizh.nomor_induk,callback:function(a){e.$set(e.muhaffizh,"nomor_induk",a)},expression:"muhaffizh.nomor_induk"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("nomorinduk")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Nama","label-cols":"3","label-for":"nama"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"nama",placeholder:"Masukan Nama",name:"nama",state:e.validateState("nama"),"data-vv-as":"Nama"},model:{value:e.muhaffizh.nama,callback:function(a){e.$set(e.muhaffizh,"nama",a)},expression:"muhaffizh.nama"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("nama")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Alamat","label-cols":"3","label-for":"alamat"}},[t("b-form-textarea",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"alamat",placeholder:"Masukan Alamat",name:"alamat",state:e.validateState("alamat"),"data-vv-as":"Alamat"},model:{value:e.muhaffizh.alamat,callback:function(a){e.$set(e.muhaffizh,"alamat",a)},expression:"muhaffizh.alamat"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("alamat")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Tempat Lahir","label-cols":"3","label-for":"tempatlahir"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"tempatlahir",placeholder:"Masukan Tempat Lahir",name:"tempatlahir",state:e.validateState("tempatlahir"),"data-vv-as":"TempatLahir"},model:{value:e.muhaffizh.tempat_lahir,callback:function(a){e.$set(e.muhaffizh,"tempat_lahir",a)},expression:"muhaffizh.tempat_lahir"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("tempatlahir")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Tanggal Lahir","label-cols":"3","label-for":"tanggallahir"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"tanggallahir",placeholder:"Masukan Tanggal Lahir",type:"date",name:"tanggallahir",state:e.validateState("tanggallahir"),"data-vv-as":"TanggalLahir"},model:{value:e.muhaffizh.tanggal_lahir,callback:function(a){e.$set(e.muhaffizh,"tanggal_lahir",a)},expression:"muhaffizh.tanggal_lahir"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("tanggallahir")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"No HP","label-cols":"3","label-for":"no_hp"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"no_hp",placeholder:"Masukan No HP",name:"nohp",state:e.validateState("no_hp"),"data-vv-as":"NoHP"},model:{value:e.muhaffizh.no_hp,callback:function(a){e.$set(e.muhaffizh,"no_hp",a)},expression:"muhaffizh.no_hp"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("no_hp")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Mulai Bertugas","label-cols":"3","label-for":"mulaibertugas"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"mulaibertugas",placeholder:"Masukan Tanggal Bertugas",type:"date",name:"mulaibertugas",state:e.validateState("mulaibertugas"),"data-vv-as":"MulaiBertugas"},model:{value:e.muhaffizh.mulai_bertugas,callback:function(a){e.$set(e.muhaffizh,"mulai_bertugas",a)},expression:"muhaffizh.mulai_bertugas"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("mulaibertugas")))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Pendidikan Terakhir","label-cols":"3","label-for":"pendidikanterakhir"}},[t("b-form-select",{attrs:{options:e.options_pendidikan},model:{value:e.muhaffizh.pendidikan_terakhir,callback:function(a){e.$set(e.muhaffizh,"pendidikan_terakhir",a)},expression:"muhaffizh.pendidikan_terakhir"}},[e._v(e._s(e.selected_pendidikan))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Status","label-cols":"3","label-for":"status"}},[t("b-form-select",{attrs:{options:e.options_status},model:{value:e.muhaffizh.status,callback:function(a){e.$set(e.muhaffizh,"status",a)},expression:"muhaffizh.status"}},[e._v(e._s(e.selected_status))])],1),e._v(" "),t("b-form-group",{attrs:{label:"Kelas/Angkatan","label-cols":"3","label-for":"kelasangkatan"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"kelasangkatan",placeholder:"Masukan Angkatan/Kelas",name:"kelasangkatan",state:e.validateState("kelasangkatan"),"data-vv-as":"KelasAngkatan"},model:{value:e.muhaffizh.angkatan_kelas,callback:function(a){e.$set(e.muhaffizh,"angkatan_kelas",a)},expression:"muhaffizh.angkatan_kelas"}}),e._v(" "),t("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("kelasangkatan")))])],1)],1)],1)}),[],!1,null,null,null).exports,c=t(96);function d(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],i=!0,r=!1,n=void 0;try{for(var l,o=e[Symbol.iterator]();!(i=(l=o.next()).done)&&(t.push(l.value),!a||t.length!==a);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw n}}return t}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return h(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,i=new Array(a);t<a;t++)i[t]=e[t];return i}function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function v(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(Object(t),!0).forEach((function(a){b(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function b(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var p={name:"Muhaffizhs",components:{pagetitle:i.a,Form:f,DataView:c.a},created:function(){this.loadData()},data:function(){return{createModal:!1,viewModal:!1,editModal:!1,editedId:null,perPage:20,currentPage:1,currentMuhaffizh:{},pageOptions:[10,20,50,100],header:[{key:"nama",label:"Nama"},{key:"no_hp",label:"No HP"},{key:"mulai_bertugas",label:"Mulai Bertugas"},{key:"status",label:"Status"},{key:"angkatan_kelas",label:"Kelas/Angkatan"},{key:"list_unit.nama",label:"Unit"},{key:"actions",label:"Aksi",stickyColumn:!0,class:"action-columns"}]}},provide:function(){return{validator:this.$validator}},computed:v({rows:function(){return this.muhaffizhs&&this.muhaffizhs.data?this.muhaffizhs.data.length:0}},Object(r.e)("muhaffizh",{muhaffizhs:function(e){return e.muhaffizhs}})),methods:v(v({},Object(r.b)("muhaffizh",["getMuhaffizhs","removeMuhaffizh","editMuhaffizh","updateMuhaffizh","submitMuhaffizh"])),{},{loadData:function(){var e=this;this.$store.commit("loadingOn"),setTimeout((function(){e.getMuhaffizhs(),e.$store.commit("loadingOff")}),1e3)},deleteMuhaffizh:function(e){var a=this;this.$swal({title:"Apakah anda yakin ?",text:"Tindakan ini akan menghapus data secara permanen",showCancelButton:!0}).then((function(t){t.value&&a.removeMuhaffizh(e)}))},handleView:function(e){this.viewModal=!0;for(var a=0,t=Object.entries(e);a<t.length;a++){var i=d(t[a],2),r=i[0],n=i[1];if("string"==typeof n||"number"==typeof n){if(r.toLowerCase().indexOf("_id")>=0||r.toLowerCase().indexOf("id_")>=0)continue;this.currentMuhaffizh[r]=n}}this.currentMuhaffizh.unit=e.list_unit.nama},handleEdit:function(e){this.editModal=!0,this.editMuhaffizh(e),this.editedId=e},handleUpdate:function(e){var a=this;e.preventDefault(),this.$validator.validateAll().then((function(e){e&&(a.updateMuhaffizh(a.editedId),a.$toasted.global.success_toast({message:"Data Muhaffizh berhasil diubah.."}),a.editModal=!1,a.loadData())})).catch((function(e){a.$toasted.global.failed_toast({message:"Data Muhaffizh gagal untuk diubah.."})}))},handleSubmit:function(e){var a=this;e.preventDefault(),this.$validator.validateAll().then((function(e){e&&(a.submitMuhaffizh(),a.$toasted.global.success_toast({message:"Data Muhaffizh berhasil ditambahkan.."}),a.createModal=!1,a.loadData())})).catch((function(e){a.$toasted.global.failed_toast({message:"Data Muhaffizh gagal untuk ditambahkan.."})}))}})},g=Object(u.a)(p,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("pagetitle"),e._v(" "),t("CRow",[t("CCardBody",{staticStyle:{"padding-top":"0px"}},[t("div",{staticClass:"d-flex justify-content-end"},[t("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(a){e.createModal=!0}}},[e._v("+ Tambah Muhaffizh")])],1),e._v(" "),t("b-form",{attrs:{inline:""}},[t("b-form-group",{staticClass:"mb-2",attrs:{label:"Show :","label-size":"sm","label-for":"perPageSelect"}},[t("b-form-select",{staticClass:"ml-2",attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(a){e.perPage=a},expression:"perPage"}})],1)],1),e._v(" "),t("b-table",{attrs:{items:e.muhaffizhs.data,fields:e.header,"current-page":e.currentPage,"per-page":e.perPage,"sticky-header":"","no-border-collapse":"",striped:"",hover:"",small:"",responsive:"",outlined:"","show-empty":""},scopedSlots:e._u([{key:"cell(actions)",fn:function(a){return[t("b-button",{attrs:{variant:"info",size:"sm"},on:{click:function(t){return e.handleView(a.item)}}},[e._v("\n              View\n            ")]),e._v(" "),t("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return e.handleEdit(a.item.id)}}},[e._v("\n              Edit\n            ")]),e._v(" "),t("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.deleteMuhaffizh(a.item.id)}}},[e._v("\n              Delete\n            ")])]}}])}),e._v(" "),t("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last",size:"sm",align:"right"},model:{value:e.currentPage,callback:function(a){e.currentPage=a},expression:"currentPage"}}),e._v(" "),t("b-modal",{attrs:{title:"Tambah Data Muhaffizh","no-close-on-backdrop":"","no-close-on-esc":"",centered:""},on:{ok:e.handleSubmit},model:{value:e.createModal,callback:function(a){e.createModal=a},expression:"createModal"}},[t("Form")],1),e._v(" "),t("b-modal",{attrs:{title:"Ubah Data Muhaffizh","no-close-on-backdrop":"","no-close-on-esc":"",centered:""},on:{ok:e.handleUpdate},model:{value:e.editModal,callback:function(a){e.editModal=a},expression:"editModal"}},[t("Form")],1),e._v(" "),t("b-modal",{attrs:{title:"Lihat Data Muhaffizh","body-class":"form-view",centered:""},model:{value:e.viewModal,callback:function(a){e.viewModal=a},expression:"viewModal"}},[t("DataView",{attrs:{items:e.currentMuhaffizh}})],1)],1)],1)],1)}),[],!1,null,null,null);a.default=g.exports},84:function(e,a,t){"use strict";var i={name:"page-title"},r=t(9),n=Object(r.a)(i,(function(){var e=this.$createElement,a=this._self._c||e;return a("div",[a("CRow",[a("CCol",{staticClass:"col-12"},[a("span",{staticClass:"text-uppercase page-subtitle"},[this._v("Master Data")]),this._v(" "),a("h3",{staticClass:"page-title"},[this._v(this._s(this.$route.meta.title))])])],1)],1)}),[],!1,null,null,null);a.a=n.exports},96:function(e,a,t){"use strict";var i={name:"PropertyView",props:{items:{type:Object,default:function(e){return{info:"Data is empty"}}}},computed:{getItems:function(){var e=[];for(var a in this.items)if("id"!=a&&"foto"!=a){var t=this.items[a];if("string"==typeof t&&3==t.substr(0,10).split("-").length){var i=new Date(t);i&&(t=i.toLocaleDateString())}e.push({id:a.replace(/[_-]/g,"").trim(),label:a.replace(/[_-]/g," ").trim().split(" ").map((function(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()})).join(" "),value:t})}return e},getFoto:function(){return!(!this.items.hasOwnProperty("foto")||""==this.items.foto)&&this.items.foto}}},r=t(9),n=Object(r.a)(i,(function(){var e=this.$createElement,a=this._self._c||e;return a("div",[this.getFoto?[a("CRow",{staticStyle:{"margin-bottom":"8px"},attrs:{alignHorizontal:"center"}},[a("b-avatar",{attrs:{src:this.getFoto,size:"10rem",rounded:"lg"}})],1)]:this._e(),this._v(" "),this._l(this.getItems,(function(e){return a("div",[a("b-form-group",{attrs:{label:e.label,"label-cols":"3",labelFor:e.id}},[a("b-form-input",{attrs:{id:e.id,value:e.value,plaintext:!0}})],1)],1)}))],2)}),[],!1,null,null,null);a.a=n.exports}}]);