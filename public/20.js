(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{117:function(e,t,a){"use strict";a.r(t);var r=a(84),s=a(13);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={inject:["validator"],name:"UserForm",created:function(){this.getLevel(),this.$validator=this.validator},computed:l(l({},Object(s.e)(["errors"])),Object(s.e)("user",{user:function(e){return e.user},user_level:function(e){return e.user_level}})),methods:l(l(l({},Object(s.d)("user",["CLEAR_FORM"])),Object(s.b)("user",["getLevel"])),{},{validateState:function(e){return this.veeFields[e]&&(this.veeFields[e].dirty||this.veeFields[e].validated)?!this.veeErrors.has(e):null}}),destroyed:function(){this.CLEAR_FORM()}},u=a(9),c=Object(u.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[a("b-form-group",{attrs:{label:"User Level","label-cols":"3","label-for":"level"}},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"level",options:e.user_level,placeholder:"Pilih User Level",name:"level",state:e.validateState("level"),"data-vv-as":"Level"},model:{value:e.user.level_id,callback:function(t){e.$set(e.user,"level_id",t)},expression:"user.level_id"}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("level")))])],1),e._v(" "),a("b-form-group",{attrs:{label:"Nama","label-cols":"3","label-for":"nama"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"nama",placeholder:"Masukan nama user",name:"nama",state:e.validateState("nama"),"data-vv-as":"Nama"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("nama")))])],1),e._v(" "),a("b-form-group",{attrs:{label:"Username","label-cols":"3","label-for":"username"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"username",placeholder:"Masukan nama username",name:"username",state:e.validateState("username"),"data-vv-as":"Username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("username")))])],1),e._v(" "),a("b-form-group",{attrs:{label:"Password","label-cols":"3","label-for":"password"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"password",placeholder:"Masukan Password",type:"password",name:"password",state:e.validateState("password"),"data-vv-as":"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.veeErrors.first("password")))])],1)],1)],1)}),[],!1,null,null,null).exports;function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={name:"Users",components:{pagetitle:r.a,Form:c},created:function(){this.loadData()},data:function(){return{createModal:!1,editModal:!1,editedId:null,perPage:20,currentPage:1,pageOptions:[10,20,50,100],header:[{key:"name",label:"Nama"},{key:"username",label:"Username"},{key:"user_level.nama",label:"User Level"},{key:"actions",label:"Aksi",stickyColumn:!0,class:"action-columns act-2"}]}},provide:function(){return{validator:this.$validator}},computed:v({rows:function(){return this.users&&this.users.data?this.users.data.length:0}},Object(s.e)("user",{users:function(e){return e.users}})),methods:v(v({},Object(s.b)("user",["getUsers","removeUser","editUser","updateUser","submitUser"])),{},{loadData:function(){var e=this;this.$store.commit("loadingOn"),setTimeout((function(){e.getUsers(),e.$store.commit("loadingOff")}),1e3)},deleteUser:function(e){var t=this;this.$swal({title:"Apakah anda yakin ?",text:"Tindakan ini akan menghapus data secara permanen",showCancelButton:!0}).then((function(a){a.value&&t.removeUser(e)}))},handleEdit:function(e){this.editModal=!0,this.editUser(e),this.editedId=e},handleUpdate:function(e){var t=this;e.preventDefault(),this.$validator.validateAll().then((function(e){e&&(t.updateUser(t.editedId),t.$toasted.global.success_toast({message:"Data User berhasil diubah.."}),t.editModal=!1,t.loadData())})).catch((function(e){t.$toasted.global.failed_toast({message:"Data User gagal untuk diubah.."})}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.$validator.validateAll().then((function(e){e&&(t.submitUser(),t.$toasted.global.success_toast({message:"Data User berhasil ditambahkan.."}),t.createModal=!1,t.loadData())})).catch((function(e){t.$toasted.global.failed_toast({message:"Data User gagal untuk ditambahkan.."})}))}})},m=Object(u.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("pagetitle"),e._v(" "),a("CRow",[a("CCardBody",{staticStyle:{"padding-top":"0px"}},[a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){e.createModal=!0}}},[e._v("+ Tambah Data")])],1),e._v(" "),a("b-form",{attrs:{inline:""}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Show :","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticClass:"ml-2",attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),a("b-table",{attrs:{items:e.users.data,fields:e.header,"current-page":e.currentPage,"per-page":e.perPage,"sticky-header":"","no-border-collapse":"",striped:"",hover:"",small:"",responsive:"",outlined:"","show-empty":""},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(a){return e.handleEdit(t.item.id)}}},[e._v("\n              Edit\n            ")]),e._v(" "),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.deleteUser(t.item.id)}}},[e._v("\n              Delete\n            ")])]}}])}),e._v(" "),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last",size:"sm",align:"right"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),a("b-modal",{attrs:{title:"Tambah Data User","no-close-on-backdrop":"","no-close-on-esc":"",centered:""},on:{ok:e.handleSubmit},model:{value:e.createModal,callback:function(t){e.createModal=t},expression:"createModal"}},[a("Form")],1),e._v(" "),a("b-modal",{attrs:{title:"Ubah Data User","no-close-on-backdrop":"","no-close-on-esc":"",centered:""},on:{ok:e.handleUpdate},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("Form")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=m.exports},84:function(e,t,a){"use strict";var r={name:"page-title"},s=a(9),n=Object(s.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("CRow",[t("CCol",{staticClass:"col-12"},[t("span",{staticClass:"text-uppercase page-subtitle"},[this._v("Master Data")]),this._v(" "),t("h3",{staticClass:"page-title"},[this._v(this._s(this.$route.meta.title))])])],1)],1)}),[],!1,null,null,null);t.a=n.exports}}]);