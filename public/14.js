(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{126:function(a,e,t){"use strict";t.r(e);var r=t(84),i=t(13);function n(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function l(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach((function(e){s(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function s(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var o={inject:["validator"],name:"santriForm",created:function(){this.getGroup(),this.getMuhaffizh(),this.getGrade(),this.getLevel(),this.$validator=this.validator},computed:l(l({},Object(i.e)(["errors"])),Object(i.e)("santri",{santri:function(a){return a.santri},santri_muhaffizh:function(a){return a.santri_muhaffizh},santri_group:function(a){return a.santri_group},santri_grade:function(a){return a.santri_grade},santri_level:function(a){return a.santri_level},santri_gender:function(a){return a.santri_gender}})),methods:l(l(l({},Object(i.d)("santri",["CLEAR_FORM"])),Object(i.b)("santri",["getMuhaffizh","getGroup","getGrade","getLevel"])),{},{getGroupName:function(a){this.santri.group_id="",this.getGroup(a)},validateState:function(a){return this.veeFields[a]&&(this.veeFields[a].dirty||this.veeFields[a].validated)?!this.veeErrors.has(a):null}}),destroyed:function(){this.CLEAR_FORM()}},u=t(9),d=Object(u.a)(o,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("b-form",{on:{submit:function(a){a.stopPropagation(),a.preventDefault()}}},[t("b-form-group",{attrs:{label:"Muhaffizh","label-cols":"3","label-for":"muhaffizh"}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"muhaffizh",options:a.santri_muhaffizh,placeholder:"Pilih Muhaffizh",name:"muhaffizh",state:a.validateState("muhaffizh"),"data-vv-as":"Muhaffizh"},on:{change:function(e){return a.getGroupName(a.santri.muhaffizh_id)}},model:{value:a.santri.muhaffizh_id,callback:function(e){a.$set(a.santri,"muhaffizh_id",e)},expression:"santri.muhaffizh_id"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("group")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Group","label-cols":"3","label-for":"group"}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"group",options:a.santri_group,placeholder:"Pilih Group",name:"group",state:a.validateState("group"),"data-vv-as":"Group"},model:{value:a.santri.group_id,callback:function(e){a.$set(a.santri,"group_id",e)},expression:"santri.group_id"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("group")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Nomor Induk Santri","label-cols":"3","label-for":"nomorinduk"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"nomorinduk",placeholder:"Masukan Nomor Induk",name:"nomorinduk",state:a.validateState("nomorinduk"),"data-vv-as":"NomorInduk"},model:{value:a.santri.nomor_induk,callback:function(e){a.$set(a.santri,"nomor_induk",e)},expression:"santri.nomor_induk"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("nomorinduk")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Nama Santri","label-cols":"3","label-for":"nama"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"nama",placeholder:"Masukan Nama",name:"nama",state:a.validateState("nama"),"data-vv-as":"Nama"},model:{value:a.santri.nama,callback:function(e){a.$set(a.santri,"nama",e)},expression:"santri.nama"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("nama")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Gender","label-cols":"3","label-for":"gender"}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"gender",options:a.santri_gender,placeholder:"Jenis Kelamin",name:"gender",state:a.validateState("gender"),"data-vv-as":"Gender"},model:{value:a.santri.gender,callback:function(e){a.$set(a.santri,"gender",e)},expression:"santri.gender"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("level")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Alamat","label-cols":"3","label-for":"alamat"}},[t("b-form-textarea",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"alamat",placeholder:"Masukan Alamat",name:"alamat",state:a.validateState("alamat"),"data-vv-as":"Alamat"},model:{value:a.santri.alamat,callback:function(e){a.$set(a.santri,"alamat",e)},expression:"santri.alamat"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("alamat")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Tempat Lahir","label-cols":"3","label-for":"tempatlahir"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"tempatlahir",placeholder:"Masukan Tempat Lahir",name:"tempatlahir",state:a.validateState("tempatlahir"),"data-vv-as":"TempatLahir"},model:{value:a.santri.tempat_lahir,callback:function(e){a.$set(a.santri,"tempat_lahir",e)},expression:"santri.tempat_lahir"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("tempatlahir")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Tanggal Lahir","label-cols":"3","label-for":"tanggallahir"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"tanggallahir",placeholder:"Masukan Tanggal Lahir",type:"date",name:"tanggallahir",state:a.validateState("tanggallahir"),"data-vv-as":"TanggalLahir"},model:{value:a.santri.tanggal_lahir,callback:function(e){a.$set(a.santri,"tanggal_lahir",e)},expression:"santri.tanggal_lahir"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("tanggallahir")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Nama Ibu","label-cols":"3","label-for":"namaibu"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"namaibu",placeholder:"Masukan Nama Ibu",name:"namaibu",state:a.validateState("namaibu"),"data-vv-as":"NamaIbu"},model:{value:a.santri.nama_ibu,callback:function(e){a.$set(a.santri,"nama_ibu",e)},expression:"santri.nama_ibu"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("nama")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Nama Ayah","label-cols":"3","label-for":"namaayah"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"namaayah",placeholder:"Masukan Nama Ayah",name:"namaayah",state:a.validateState("namaayah"),"data-vv-as":"NamaAyah"},model:{value:a.santri.nama_ayah,callback:function(e){a.$set(a.santri,"nama_ayah",e)},expression:"santri.nama_ayah"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("namaayah")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"No HP","label-cols":"3","label-for":"no_hp"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"no_hp",placeholder:"Masukan No HP",name:"nohp",state:a.validateState("no_hp"),"data-vv-as":"NoHP"},model:{value:a.santri.no_hp,callback:function(e){a.$set(a.santri,"no_hp",e)},expression:"santri.no_hp"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("no_hp")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Mulai Belajar","label-cols":"3","label-for":"mulaibelajar"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"mulaibelajar",placeholder:"Masukan Tanggal Belajar",type:"date",name:"mulaibelajar",state:a.validateState("mulaibelajar"),"data-vv-as":"MulaiBelajar"},model:{value:a.santri.mulai_belajar,callback:function(e){a.$set(a.santri,"mulai_belajar",e)},expression:"santri.mulai_belajar"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("mulaibelajar")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Kelas/Angkatan","label-cols":"3","label-for":"kelasangkatan"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"kelasangkatan",placeholder:"Masukan Angkatan/Kelas",name:"kelasangkatan",state:a.validateState("kelasangkatan"),"data-vv-as":"KelasAngkatan"},model:{value:a.santri.angkatan_kelas,callback:function(e){a.$set(a.santri,"angkatan_kelas",e)},expression:"santri.angkatan_kelas"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("kelasangkatan")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Grade","label-cols":"3","label-for":"grade"}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"grade",options:a.santri_grade,placeholder:"Pilih Grade",name:"grade",state:a.validateState("grade"),"data-vv-as":"Grade"},model:{value:a.santri.grade_id,callback:function(e){a.$set(a.santri,"grade_id",e)},expression:"santri.grade_id"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("grade")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Level Santri","label-cols":"3","label-for":"level"}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{id:"level",options:a.santri_level,placeholder:"Pilih Level",name:"level",state:a.validateState("level"),"data-vv-as":"Level"},model:{value:a.santri.levelsantri_id,callback:function(e){a.$set(a.santri,"levelsantri_id",e)},expression:"santri.levelsantri_id"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("level")))])],1),a._v(" "),t("b-form-group",{attrs:{label:"Pas Foto","label-cols":"3","label-for":"file_foto"}},[t("b-form-file",{directives:[{name:"validate",rawName:"v-validate",value:{size:1024,image:!0},expression:"{ size: 1024, image: true }"}],attrs:{id:"file_foto",name:"file_foto",state:a.validateState("file_foto"),accept:"image/jpeg",placeholder:"Upload foto...","data-vv-as":"file"},model:{value:a.santri.file_foto,callback:function(e){a.$set(a.santri,"file_foto",e)},expression:"santri.file_foto"}}),a._v(" "),t("b-form-invalid-feedback",[a._v(a._s(a.veeErrors.first("file_foto")))])],1)],1)],1)}),[],!1,null,null,null).exports,c=t(93);function v(a,e){return function(a){if(Array.isArray(a))return a}(a)||function(a,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(a)))return;var t=[],r=!0,i=!1,n=void 0;try{for(var l,s=a[Symbol.iterator]();!(r=(l=s.next()).done)&&(t.push(l.value),!e||t.length!==e);r=!0);}catch(a){i=!0,n=a}finally{try{r||null==s.return||s.return()}finally{if(i)throw n}}return t}(a,e)||function(a,e){if(!a)return;if("string"==typeof a)return m(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);"Object"===t&&a.constructor&&(t=a.constructor.name);if("Map"===t||"Set"===t)return Array.from(a);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(a,e)}(a,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=a[t];return r}function f(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function b(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){p(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function p(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var h={name:"Santris",components:{pagetitle:r.a,Form:d,DataView:c.a},created:function(){this.loadData()},data:function(){return{createModal:!1,viewModal:!1,editModal:!1,editedId:null,perPage:20,currentPage:1,currentSantri:{},pageOptions:[10,20,50,100],header:[{key:"nama",label:"Nama"},{key:"alamat",label:"Alamat"},{key:"angkatan_kelas",label:"Kelas/Angkatan"},{key:"list_grade.grade",label:"Grade"},{key:"list_level.level",label:"Level"},{key:"list_group.nama",label:"Group"},{key:"list_muhaffizh.nama",label:"Muhaffizh"},{key:"actions",label:"Aksi",stickyColumn:!0,class:"action-columns"}]}},provide:function(){return{validator:this.$validator}},computed:b({rows:function(){return this.santris&&this.santris.data?this.santris.data.length:0}},Object(i.e)("santri",{santris:function(a){return a.santris}})),methods:b(b({},Object(i.b)("santri",["getSantris","removeSantri","editSantri","updateSantri","submitSantri"])),{},{loadData:function(){var a=this;this.$store.commit("loadingOn"),setTimeout((function(){a.getSantris(),a.$store.commit("loadingOff")}),1e3)},deleteSantri:function(a){var e=this;this.$swal({title:"Apakah anda yakin ?",text:"Tindakan ini akan menghapus data secara permanen",showCancelButton:!0}).then((function(t){t.value&&e.removeSantri(a)}))},handleView:function(a){this.viewModal=!0;for(var e=0,t=Object.entries(a);e<t.length;e++){var r=v(t[e],2),i=r[0],n=r[1];if("string"==typeof n||"number"==typeof n){if(i.toLowerCase().indexOf("_id")>=0||i.toLowerCase().indexOf("id_")>=0)continue;this.currentSantri[i]=n}}this.currentSantri.group=a.list_group.nama,this.currentSantri.muhaffizh=a.list_muhaffizh.nama,this.currentSantri.level=a.list_level.level,this.currentSantri.grade=a.list_grade.grade},handleEdit:function(a){this.editModal=!0,this.editSantri(a),this.editedId=a},handleUpdate:function(a){var e=this;a.preventDefault(),this.$validator.validateAll().then((function(a){a&&(e.updateSantri(e.editedId),e.$toasted.global.success_toast({message:"Data Santri berhasil diubah.."}),e.editModal=!1,e.loadData())})).catch((function(a){e.$toasted.global.failed_toast({message:"Data Santri gagal untuk diubah.."})}))},handleSubmit:function(a){var e=this;a.preventDefault(),this.$validator.validateAll().then((function(a){a&&(e.submitSantri(),e.$toasted.global.success_toast({message:"Data Santri berhasil ditambahkan.."}),e.createModal=!1,e.loadData())})).catch((function(a){e.$toasted.global.failed_toast({message:"Data Santri gagal untuk ditambahkan.."})}))}})},g=Object(u.a)(h,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("pagetitle"),a._v(" "),t("CRow",[t("CCardBody",{staticStyle:{"padding-top":"0px"}},[t("div",{staticClass:"d-flex justify-content-end"},[t("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){a.createModal=!0}}},[a._v("+ Tambah Santri")])],1),a._v(" "),t("b-form",{attrs:{inline:""}},[t("b-form-group",{staticClass:"mb-2",attrs:{label:"Show :","label-size":"sm","label-for":"perPageSelect"}},[t("b-form-select",{staticClass:"ml-2",attrs:{id:"perPageSelect",size:"sm",options:a.pageOptions},model:{value:a.perPage,callback:function(e){a.perPage=e},expression:"perPage"}})],1)],1),a._v(" "),t("b-table",{attrs:{items:a.santris.data,fields:a.header,"current-page":a.currentPage,"per-page":a.perPage,"sticky-header":"","no-border-collapse":"",striped:"",hover:"",small:"",responsive:"",outlined:"","show-empty":""},scopedSlots:a._u([{key:"cell(actions)",fn:function(e){return[t("b-button",{attrs:{variant:"info",size:"sm"},on:{click:function(t){return a.handleView(e.item)}}},[a._v("\n              View\n            ")]),a._v(" "),t("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return a.handleEdit(e.item.id)}}},[a._v("\n              Edit\n            ")]),a._v(" "),t("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return a.deleteSantri(e.item.id)}}},[a._v("\n              Delete\n            ")])]}}])}),a._v(" "),t("b-pagination",{attrs:{"total-rows":a.rows,"per-page":a.perPage,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last",size:"sm",align:"right"},model:{value:a.currentPage,callback:function(e){a.currentPage=e},expression:"currentPage"}}),a._v(" "),t("b-modal",{attrs:{title:"Tambah Data Santri","no-close-on-backdrop":"","no-close-on-esc":"",centered:""},on:{ok:a.handleSubmit},model:{value:a.createModal,callback:function(e){a.createModal=e},expression:"createModal"}},[t("Form")],1),a._v(" "),t("b-modal",{attrs:{title:"Ubah Data Santri","no-close-on-backdrop":"","no-close-on-esc":"",centered:""},on:{ok:a.handleUpdate},model:{value:a.editModal,callback:function(e){a.editModal=e},expression:"editModal"}},[t("Form")],1),a._v(" "),t("b-modal",{attrs:{title:"Lihat Data Santri","body-class":"form-view",centered:""},model:{value:a.viewModal,callback:function(e){a.viewModal=e},expression:"viewModal"}},[t("DataView",{attrs:{items:a.currentSantri}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=g.exports},84:function(a,e,t){"use strict";var r={name:"page-title"},i=t(9),n=Object(i.a)(r,(function(){var a=this.$createElement,e=this._self._c||a;return e("div",[e("CRow",[e("CCol",{staticClass:"col-12"},[e("span",{staticClass:"text-uppercase page-subtitle"},[this._v("Master Data")]),this._v(" "),e("h3",{staticClass:"page-title"},[this._v(this._s(this.$route.meta.title))])])],1)],1)}),[],!1,null,null,null);e.a=n.exports},93:function(a,e,t){"use strict";var r={name:"PropertyView",props:{items:{type:Object,default:function(a){return{info:"Data is empty"}}}},computed:{getItems:function(){return this.items}}},i=t(9),n=Object(i.a)(r,(function(){var a=this.$createElement,e=this._self._c||a;return e("div",this._l(this.getItems,(function(a,t,r){return e("div",[e("b-form-group",{attrs:{label:t.replace(/[_-]/g," ").trim().split(" ").map((function(a){return a[0].toUpperCase()+a.substring(1).toLowerCase()})).join(" "),"label-cols":"3",labelFor:t}},[e("b-form-input",{attrs:{id:t.replace(/[_-]/g,"").trim(),value:a,plaintext:!0}})],1)],1)})),0)}),[],!1,null,null,null);e.a=n.exports}}]);